\usepackage{listings}
\usepackage{xcolor}

%-----------------------------------------------------
% LISTING CONFIGURATIONS
%-----------------------------------------------------

\lstset{
    showstringspaces=false,
    basicstyle=\ttfamily\footnotesize,
    commentstyle={\color{olive}},
    identifierstyle=\color{black},
    stringstyle={\color{magenta}},
    keywordstyle={\color{blue}},
    breaklines=true,
    numbers=left,
    numberstyle=\tiny\color{gray},
    numbersep=10pt,
    tabsize=2,
    extendedchars=true,
    frame=trBL,
    frameround=fttt,
    escapeinside={(*@}{@*)},
}

\lstdefinelanguage{Python}{
    keywords={and, as, assert, break, class, continue, def, del, elif, else, except, False, finally, for, from, global, if, import, in, is, lambda, None, nonlocal, not, or, pass, raise, return, True, try, while, with, yield},
    comment=[l]{\#},
    morecomment=[s]{'''}{'''},
    morecomment=[s]{"""}{"""},
    morestring=[b]',
    morestring=[b]",
    sensitive=true,
}

\lstdefinelanguage{yaml} {
    keywords={true, false, null, yes, no},
    sensitive=false,
    comment=[l]{\#},
    stringstyle=\color{blue}\mdseries\ttfamily,
    moredelim=[l][\color{orange}]{\&},
    moredelim=[l][\color{magenta}]{*},
    morestring=[b]',
    morestring=[b]",
    moredelim=**[il][\color{magenta}\mdseries{:}\color{blue}\mdseries]{:},
    literate={>}{{\textcolor{magenta}\textgreater}}1
             {|}{{\textcolor{magenta}\textbar}}1
             {\ -\ }{{\mdseries\ -\ }}3,
}

\lstdefinelanguage{Dockerfile}{
    keywords={FROM, RUN, CMD, LABEL, EXPOSE, ENV, ADD, COPY, ENTRYPOINT, VOLUME, USER, WORKDIR, ARG, ONBUILD, STOPSIGNAL, HEALTHCHECK, SHELL},
    sensitive=false,
    comment=[l]{\#},
    morestring=[b]",
    morestring=[b]',
}

% Convenience commands
\newcommand{\python}[1]{\lstinline[language=Python,basicstyle=\ttfamily\normalsize]{#1}}
\newcommand{\yaml}[1]{\lstinline[language=yaml,basicstyle=\ttfamily\normalsize]{#1}}
\newcommand{\dockerfile}[1]{\lstinline[language=Dockerfile,basicstyle=\ttfamily\normalsize]{#1}}

% Import commands
\newcommand{\pythonimport}[2][{}]{\lstinputlisting[#1,language=Python]{#2}}
\newcommand{\yamlimport}[2][{}]{\lstinputlisting[#1,language=yaml]{#2}}
\newcommand{\dockerfileimport}[2][{}]{\lstinputlisting[#1,language=Dockerfile]{#2}}